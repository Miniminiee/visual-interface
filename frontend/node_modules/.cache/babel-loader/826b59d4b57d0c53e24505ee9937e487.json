{"remainingRequest":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\src\\components\\InteractionView\\InteractionView.js?vue&type=script&lang=js&","dependencies":[{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\src\\components\\InteractionView\\InteractionView.js","mtime":1681018722525},{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680873973727},{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1680873974944},{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1680873973993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmNvcHktd2l0aGluIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2wiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLmZsb2F0NjQtYXJyYXkiOwppbXBvcnQgX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCBmcm9tICJEOlxcdGhlIGp1bmlvciB5ZWFyXFx0cmFmZmljIHNjaWVuY2UgbWF0Y2hcXG5ld0NvZGluZ1RlbXBsYXRlLW1haW5cXHZpc3VhbCBpbnRlcmZhY2VcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiPGRpdiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlO1wiPiJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCi8vIC8qIGdsb2JhbCBkMyAkICovCmltcG9ydCBkYXRhU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL2RhdGFTZXJ2aWNlLmpzIjsKaW1wb3J0IHBpcGVTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvcGlwZVNlcnZpY2UiOwppbXBvcnQgRHJhd0QzIGZyb20gIi4vZHJhd0QzLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsgLy9kMyA9IHJlcXVpcmUoImQzQDYiKQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbnRlcmFjdGlvblZpZXcnLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7CiAgICAvL+S4u+e7hOS7tuS8oOmAkueahOWAvAogICAgdmlkZW9JZDogU3RyaW5nLAogICAgdmlkZW9EYXRhOiBPYmplY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAvL+W9k+WJjWNvbXBvbmVudOWGhee9ruWPmOmHjwogICAgcmV0dXJuIHsKICAgICAgY29udGFpbmVySWQ6ICdJbnRlcmFjdGlvbkdyYXBoJywKICAgICAgLy/mraTlpITorrDlvpfmlLkKICAgICAgYXVkaW9EYXRhOiB7fSwKICAgICAgaW50ZXJ2YWw6IDUsCiAgICAgIHNsaWRpbmc6IDEsCiAgICAgIGN1cnJlbnR0aW1lOiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsvL+ebkea1i+afkOWPmOmHj+aYr+WQpuWPmOWMlu+8jOWPmOWMluWQjuaJp+ihjOS7gOS5iOWHveaVsAogIH0sCiAgLy/pobXpnaLliqDovb3lrozmiJDlkI7miafooYznmoTlh73mlbDvvIzlj6/nlKjkuo7liJ3lp4vljJYKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy/ms6jmhI/mjqXmlLbkv6Hlj7fopoHljbjovb1tb3VudGVk5YaFCgogICAgLyoKICAgICAgICAgICAgdGhpcy5EcmF3RDMgPSBuZXcgRHJhd0QzKHRoaXMuY29udGFpbmVySWQpOwogICAgICAgICAgICBwaXBlU2VydmljZS5vblVQREFURVBJQygoY3VycmVudHRpbWUpID0+IHsgLy/mjqXmlLbkv6Hlj7cKICAgICAgICAgICAgY29uc29sZS5sb2coIkludGVyYWN0aW9uVmlld+aUtuWIsOadpeiHqlZpZGVvVmlld+eahGN1cnJlbnR0aW1l77yM5byA5aeL55S75Zu+IixjdXJyZW50dGltZSk7CiAgICAgICAgICAgIHRoaXMuY3VycmVudHRpbWU9Y3VycmVudHRpbWUKICAgICAgICAgICAgfSkKICAgICAgICBkYXRhU2VydmljZS5kYWlseURhdGEoKHN0b2NrRGF0YURhaWx5KSA9PiB7CiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IEFycmF5OwogICAgICAgICAgICB2YXIgZGF0YURpY3Q7CiAgICAgICAgICAgIGZvcihsZXQga2V5IGluIHN0b2NrRGF0YURhaWx5WyJkYXRhIl1bIlRpbWUgU2VyaWVzIChEYWlseSkiXSl7CiAgICAgICAgICAgICAgICBkYXRhRGljdCA9IHN0b2NrRGF0YURhaWx5WyJkYXRhIl1bIlRpbWUgU2VyaWVzIChEYWlseSkiXVtrZXldOwogICAgICAgICAgICAgICAgZGF0YS5wdXNoKHt0aW1lOm5ldyBEYXRlKGtleSksIG9wZW46K2RhdGFEaWN0WyIxLiBvcGVuIl0sIGhpZ2g6K2RhdGFEaWN0WyIyLiBoaWdoIl0sIGxvdzorZGF0YURpY3RbIjMuIGxvdyJdLCBjbG9zZTorZGF0YURpY3RbIjQuIGNsb3NlIl0sIHZvbHVtZTogK2RhdGFEaWN0WyI1LiB2b2x1bWUiXX0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuRHJhd0QzLmRyYXcoZGF0YSx0aGlzLmN1cnJlbnR0aW1lKTsKICAgICAgICB9KQogICAgKi8KICAgIHRoaXMuY2hhcnQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRyYXd3ZWlwaWM6IGZ1bmN0aW9uIGRyYXd3ZWlwaWMoKSB7fSwKICAgIGNoYXJ0OiBmdW5jdGlvbiBjaGFydCgpIHsKICAgICAgdmFyIG1hcmdpbiA9IHsKICAgICAgICB0b3A6IDMwLAogICAgICAgIHJpZ2h0OiA5MCwKICAgICAgICBib3R0b206IDMwLAogICAgICAgIGxlZnQ6IDkwCiAgICAgIH07IC8v55S75biD5aSn5bCPCgogICAgICB2YXIgd2lkdGggPSAkKCcjJyArIHRoaXMuY29udGFpbmVySWQpLndpZHRoKCk7CiAgICAgIHZhciBoZWlnaHQgPSAkKCcjJyArIHRoaXMuY29udGFpbmVySWQpLmhlaWdodCgpOwogICAgICB2YXIgaW5uZXJoZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTsKICAgICAgdmFyIGlubmVyd2lkdGggPSB3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0OwoKICAgICAgdmFyIGNvbG9yID0gZnVuY3Rpb24gY29sb3IoaSkgewogICAgICAgIHJldHVybiBkM1tzY2hlbWVdW01hdGgubWF4KDMsIG92ZXJsYXApXVtpICsgTWF0aC5tYXgoMCwgMyAtIG92ZXJsYXApXTsKICAgICAgfTsKCiAgICAgIHZhciB4ID0gZDMuc2NhbGVUaW1lKCkucmFuZ2UoWzAsIHdpZHRoXSk7CiAgICAgIHZhciB5ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZVJvdW5kKFswLCAtb3ZlcmxhcCAqIHN0ZXBdKTsKICAgICAgdmFyIHN0ZXAgPSAyOTsKCiAgICAgIHZhciBjb2xvciA9IGZ1bmN0aW9uIGNvbG9yKGkpIHsKICAgICAgICByZXR1cm4gZDNbc2NoZW1lXVtNYXRoLm1heCgzLCBvdmVybGFwKV1baSArIE1hdGgubWF4KDAsIDMgLSBvdmVybGFwKV07CiAgICAgIH07CgogICAgICB2YXIgeEF4aXMgPSBmdW5jdGlvbiB4QXhpcyhnKSB7CiAgICAgICAgcmV0dXJuIGcuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCIuY29uY2F0KG1hcmdpbi50b3AsICIpIikpLmNhbGwoZDMuYXhpc1RvcCh4KS50aWNrcyh3aWR0aCAvIDgwKS50aWNrU2l6ZU91dGVyKDApKS5jYWxsKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICByZXR1cm4gZy5zZWxlY3RBbGwoIi50aWNrIikuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgIHJldHVybiB4KGQpIDwgbWFyZ2luLmxlZnQgfHwgeChkKSA+PSB3aWR0aCAtIG1hcmdpbi5yaWdodDsKICAgICAgICAgIH0pLnJlbW92ZSgpOwogICAgICAgIH0pLmNhbGwoZnVuY3Rpb24gKGcpIHsKICAgICAgICAgIHJldHVybiBnLnNlbGVjdCgiLmRvbWFpbiIpLnJlbW92ZSgpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgdmFyIGRpdiA9IGh0bWwoX3RlbXBsYXRlT2JqZWN0KCkpOwogICAgICB2YXIgY2FudmFzID0gZDMuc2VsZWN0KGRpdikuc2VsZWN0QWxsKCJjYW52YXMiKS5kYXRhKGRhdGEpLmVudGVyKCkuYXBwZW5kKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gRE9NLmNvbnRleHQyZCh3aWR0aCwgc3RlcCwgMSkuY2FudmFzOwogICAgICB9KS5zdHlsZSgicG9zaXRpb24iLCAiYWJzb2x1dGUiKS5zdHlsZSgiaW1hZ2UtcmVuZGVyaW5nIiwgInBpeGVsYXRlZCIpLnN0eWxlKCJ0b3AiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgIHJldHVybiAiIi5jb25jYXQoaSAqIChzdGVwICsgMSkgKyBtYXJnaW4udG9wLCAicHgiKTsKICAgICAgfSkucHJvcGVydHkoImNvbnRleHQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgfSkuZWFjaChob3Jpem9uKTsKICAgICAgLyoKICAgICAgICAgICAgY29uc3Qgc3ZnID0gZDMuc2VsZWN0KGRpdi5hcHBlbmRDaGlsZChET00uc3ZnKHdpZHRoLCBoZWlnaHQpKSkKICAgICAgICAgICAgICAgIC5zdHlsZSgicG9zaXRpb24iLCAicmVsYXRpdmUiKQogICAgICAgICAgICAgICAgLnN0eWxlKCJmb250IiwgIjEwcHggc2Fucy1zZXJpZiIpOwogICAgICAqLwoKICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgiI2V2YWx1YXRlR3JhcGgiKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7CiAgICAgIHZhciBnWCA9IHN2Zy5hcHBlbmQoImciKTsKICAgICAgc3ZnLmFwcGVuZCgiZyIpLnNlbGVjdEFsbCgidGV4dCIpLmRhdGEoZGF0YSkuam9pbigidGV4dCIpLmF0dHIoIngiLCA0KS5hdHRyKCJ5IiwgZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICByZXR1cm4gKGkgKyAwLjUpICogKHN0ZXAgKyAxKSArIG1hcmdpbi50b3A7CiAgICAgIH0pLmF0dHIoImR5IiwgIjAuMzVlbSIpLnRleHQoZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgICByZXR1cm4gaTsKICAgICAgfSk7CiAgICAgIHZhciBydWxlID0gc3ZnLmFwcGVuZCgibGluZSIpLmF0dHIoInN0cm9rZSIsICIjMDAwIikuYXR0cigieTEiLCBtYXJnaW4udG9wIC0gNikuYXR0cigieTIiLCBoZWlnaHQgLSBtYXJnaW4uYm90dG9tIC0gMSkuYXR0cigieDEiLCAwLjUpLmF0dHIoIngyIiwgMC41KTsKICAgICAgc3ZnLm9uKCJtb3VzZW1vdmUgdG91Y2htb3ZlIiwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgdmFyIHggPSBkMy5wb2ludGVyKGV2ZW50LCBzdmcubm9kZSgpKVswXSArIDAuNTsKICAgICAgICBydWxlLmF0dHIoIngxIiwgeCkuYXR0cigieDIiLCB4KTsKICAgICAgfSk7CgogICAgICBmdW5jdGlvbiBob3Jpem9uKGQpIHsKICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDsKICAgICAgICB2YXIgayA9IGQubGVuZ3RoOwogICAgICAgIGlmIChrIDwgd2lkdGgpIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMsIGssIDAsIHdpZHRoIC0gaywgc3RlcCwgMCwgMCwgd2lkdGggLSBrLCBzdGVwKTsKICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICIjZmZmIjsKICAgICAgICBjb250ZXh0LmZpbGxSZWN0KHdpZHRoIC0gaywgMCwgaywgc3RlcCk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3ZlcmxhcDsgKytpKSB7CiAgICAgICAgICBjb250ZXh0LnNhdmUoKTsKICAgICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHdpZHRoIC0gaywgKGkgKyAxKSAqIHN0ZXApOwogICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcihpKTsKCiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGs7ICsraikgewogICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KGosIHkoZFtqXSksIDEsIC15KGRbal0pKTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGRpdi51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGNhbnZhcy5kYXRhKGRhdGEpLmVhY2goaG9yaXpvbik7CiAgICAgICAgZ1guY2FsbCh4QXhpcyk7CiAgICAgIH07CgogICAgICByZXR1cm4gZGl2OwogICAgfSwKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHZhciBuID0gMjAsCiAgICAgICAgICBtID0gOTY0OwogICAgICB2YXIgZGF0YSA9IG5ldyBBcnJheShuKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgdmFyIGQgPSBkYXRhW2ldID0gbmV3IEZsb2F0NjRBcnJheShtKTsKCiAgICAgICAgZm9yICh2YXIgaiA9IDAsIHYgPSAwOyBqIDwgbTsgKytqKSB7CiAgICAgICAgICBkW2pdID0gdiA9IHdhbGsodik7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZGF0YTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIHBlcmlvZCA9IDI1MCwKICAgICAgICAgIG0gPSBkYXRhWzBdLmxlbmd0aDsKICAgICAgdmFyIHRhaWwgPSBkYXRhLm1hcChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnN1YmFycmF5KG0gLSAxLCBtKTsKICAgICAgfSk7CgogICAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgIHZhciB0aGVuID0gbmV3IERhdGUoTWF0aC5jZWlsKChEYXRlLm5vdygpICsgMSkgLyBwZXJpb2QpICogcGVyaW9kKTsKICAgICAgICBQcm9taXNlcy53aGVuKHRoZW4sIHRoZW4pOwogICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBkYXRhW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkgewogICAgICAgICAgICB2YXIgZCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICBkLmNvcHlXaXRoaW4oMCwgMSwgbSksIGRbbSAtIDFdID0gd2FsayhkW20gLSAxXSk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHguZG9tYWluKFt0aGVuIC0gcGVyaW9kICogd2lkdGgsIHRoZW5dKTsKICAgICAgICBjaGFydC51cGRhdGUodGFpbCk7CiAgICAgIH0KICAgIH0sCiAgICB3YWxrOiBmdW5jdGlvbiB3YWxrKHYpIHsKICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHYgKyAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAwLjA1KSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:/the junior year/traffic science match/newCodingTemplate-main/visual interface/frontend/src/components/InteractionView/InteractionView.js"],"names":["dataService","pipeService","DrawD3","axios","name","components","props","videoId","String","videoData","Object","data","containerId","audioData","interval","sliding","currenttime","watch","mounted","chart","methods","drawweipic","margin","top","right","bottom","left","width","$","height","innerheight","innerwidth","color","i","d3","scheme","Math","max","overlap","x","scaleTime","range","y","scaleLinear","rangeRound","step","xAxis","g","attr","call","axisTop","ticks","tickSizeOuter","selectAll","filter","d","remove","select","div","html","canvas","enter","append","DOM","context2d","style","property","getContext","each","horizon","svg","gX","join","text","rule","on","event","pointer","node","context","k","length","drawImage","fillStyle","fillRect","save","translate","j","restore","update","n","m","Array","Float64Array","v","walk","period","tail","map","subarray","then","Date","ceil","now","Promises","when","copyWithin","domain","min","random"],"mappings":"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","sourcesContent":["// /* global d3 $ */\nimport dataService from '../../service/dataService.js'\nimport pipeService from '../../service/pipeService'\nimport DrawD3 from './drawD3.js'\nimport axios from \"axios\";\n\n//d3 = require(\"d3@6\")\n\n\nexport default {\n    name: 'InteractionView',\n    components: {\n    },\n    props: { //主组件传递的值\n        videoId: String,\n        videoData: Object\n    },\n    data() {//当前component内置变量\n        return {\n        containerId: 'InteractionGraph',   //此处记得改\n        audioData: {},\n        interval: 5,\n        sliding: 1,\n        currenttime:0\n        }\n    },\n\n    watch: {//监测某变量是否变化，变化后执行什么函数\n    },\n\n    //页面加载完成后执行的函数，可用于初始化\n    mounted: function () {   //注意接收信号要卸载mounted内\n    /*\n            this.DrawD3 = new DrawD3(this.containerId);\n            pipeService.onUPDATEPIC((currenttime) => { //接收信号\n            console.log(\"InteractionView收到来自VideoView的currenttime，开始画图\",currenttime);\n            this.currenttime=currenttime\n            })\n        dataService.dailyData((stockDataDaily) => {\n            let data = new Array;\n            var dataDict;\n            for(let key in stockDataDaily[\"data\"][\"Time Series (Daily)\"]){\n                dataDict = stockDataDaily[\"data\"][\"Time Series (Daily)\"][key];\n                data.push({time:new Date(key), open:+dataDict[\"1. open\"], high:+dataDict[\"2. high\"], low:+dataDict[\"3. low\"], close:+dataDict[\"4. close\"], volume: +dataDict[\"5. volume\"]});\n            }\n            this.DrawD3.draw(data,this.currenttime);\n        })\n    */\n          this.chart()\n\n    },\n\n    methods: {\n    drawweipic(){\n    },\n    chart(){\n           var margin = {top: 30, right: 90, bottom: 30, left: 90};\n          //画布大小\n          var width = $('#' + this.containerId).width()\n          var height = $('#' + this.containerId).height()\n          const innerheight = height-margin.top-margin.bottom;\n          const innerwidth = width - margin.left-margin.right;\n        var color = i => d3[scheme][Math.max(3, overlap)][i + Math.max(0, 3 - overlap)]\n        const x = d3.scaleTime()\n            .range([0, width])\n        const y = d3.scaleLinear()\n            .rangeRound([0, -overlap * step])\n        const step = 29\n        var color = i => d3[scheme][Math.max(3, overlap)][i + Math.max(0, 3 - overlap)]\n\n\n        const xAxis = g => g\n            .attr(\"transform\", `translate(0,${margin.top})`)\n            .call(d3.axisTop(x).ticks(width / 80).tickSizeOuter(0))\n            .call(g => g.selectAll(\".tick\").filter(d => x(d) < margin.left || x(d) >= width - margin.right).remove())\n            .call(g => g.select(\".domain\").remove())\n\n              const div = html`<div style=\"position:relative;\">`;\n\n              const canvas = d3.select(div)\n                .selectAll(\"canvas\")\n                .data(data)\n                .enter().append(() => DOM.context2d(width, step, 1).canvas)\n                  .style(\"position\", \"absolute\")\n                  .style(\"image-rendering\", \"pixelated\")\n                  .style(\"top\", (d, i) => `${i * (step + 1) + margin.top}px`)\n                  .property(\"context\", function() { return this.getContext(\"2d\"); })\n                  .each(horizon);\n/*\n      const svg = d3.select(div.appendChild(DOM.svg(width, height)))\n          .style(\"position\", \"relative\")\n          .style(\"font\", \"10px sans-serif\");\n*/\n        var svg = d3.select(\"#evaluateGraph\")\n                          .append(\"svg\")\n                          .attr(\"width\", width)\n                          .attr(\"height\",height);\n\n      const gX = svg.append(\"g\");\n\n      svg.append(\"g\")\n        .selectAll(\"text\")\n        .data(data)\n        .join(\"text\")\n          .attr(\"x\", 4)\n          .attr(\"y\", (d, i) => (i + 0.5) * (step + 1) + margin.top)\n          .attr(\"dy\", \"0.35em\")\n          .text((d, i) => i);\n\n      const rule = svg.append(\"line\")\n          .attr(\"stroke\", \"#000\")\n          .attr(\"y1\", margin.top - 6)\n          .attr(\"y2\", height - margin.bottom - 1)\n          .attr(\"x1\", 0.5)\n          .attr(\"x2\", 0.5);\n\n      svg.on(\"mousemove touchmove\", (event) => {\n        const x = d3.pointer(event, svg.node())[0] + 0.5;\n        rule.attr(\"x1\", x).attr(\"x2\", x);\n      });\n\n      function horizon(d) {\n        const {context} = this;\n        const {length: k} = d;\n        if (k < width) context.drawImage(this, k, 0, width - k, step, 0, 0, width - k, step);\n        context.fillStyle = \"#fff\";\n        context.fillRect(width - k, 0, k, step);\n        for (let i = 0; i < overlap; ++i) {\n          context.save();\n          context.translate(width - k, (i + 1) * step);\n          context.fillStyle = color(i);\n          for (let j = 0; j < k; ++j) {\n            context.fillRect(j, y(d[j]), 1, -y(d[j]));\n          }\n          context.restore();\n        }\n      }\n\n      div.update = data => {\n        canvas.data(data).each(horizon);\n        gX.call(xAxis);\n      };\n\n      return div;\n    },\n        data () {\n          const n = 20, m = 964;\n          const data = new Array(n);\n          for (let i = 0; i < n; ++i) {\n            const d = data[i] = new Float64Array(m);\n            for (let j = 0, v = 0; j < m; ++j) {\n              d[j] = v = walk(v);\n            }\n          }\n          return data;\n        },\n\n    update () {\n      const period = 250, m = data[0].length;\n      const tail = data.map(d => d.subarray(m - 1, m));\n      while (true) {\n        const then = new Date(Math.ceil((Date.now() + 1) / period) * period);\n        Promises.when(then, then);\n        for (const d of data) d.copyWithin(0, 1, m), d[m - 1] = walk(d[m - 1]);\n        x.domain([then - period * width, then]);\n        chart.update(tail);\n      }\n    },\n\n    walk(v) {\n      return Math.max(0, Math.min(1, v + (Math.random() - 0.5) * 0.05));\n    },\n    }\n}\n"]}]}