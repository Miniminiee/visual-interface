{"remainingRequest":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\src\\components\\InteractionView\\InteractionView.js?vue&type=script&lang=js&","dependencies":[{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\src\\components\\InteractionView\\InteractionView.js","mtime":1681020638243},{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680873973727},{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1680873974944},{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1680873973993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmNvcHktd2l0aGluIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5zeW1ib2wiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLmZsb2F0NjQtYXJyYXkiOwppbXBvcnQgX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCBmcm9tICJEOlxcdGhlIGp1bmlvciB5ZWFyXFx0cmFmZmljIHNjaWVuY2UgbWF0Y2hcXG5ld0NvZGluZ1RlbXBsYXRlLW1haW5cXHZpc3VhbCBpbnRlcmZhY2VcXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbCI7CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiPGRpdiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlO1wiPiJdKTsKCiAgX3RlbXBsYXRlT2JqZWN0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCi8vIC8qIGdsb2JhbCBkMyAkICovCmltcG9ydCBkYXRhU2VydmljZSBmcm9tICIuLi8uLi9zZXJ2aWNlL2RhdGFTZXJ2aWNlLmpzIjsKaW1wb3J0IHBpcGVTZXJ2aWNlIGZyb20gIi4uLy4uL3NlcnZpY2UvcGlwZVNlcnZpY2UiOwppbXBvcnQgRHJhd0QzIGZyb20gIi4vZHJhd0QzLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZDMgPSByZXF1aXJlKCJkM0A2Iik7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW50ZXJhY3Rpb25WaWV3JywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgLy/kuLvnu4Tku7bkvKDpgJLnmoTlgLwKICAgIHZpZGVvSWQ6IFN0cmluZywKICAgIHZpZGVvRGF0YTogT2JqZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgLy/lvZPliY1jb21wb25lbnTlhoXnva7lj5jph48KICAgIHJldHVybiB7CiAgICAgIGNvbnRhaW5lcklkOiAnSW50ZXJhY3Rpb25HcmFwaCcsCiAgICAgIC8v5q2k5aSE6K6w5b6X5pS5CiAgICAgIGF1ZGlvRGF0YToge30sCiAgICAgIGludGVydmFsOiA1LAogICAgICBzbGlkaW5nOiAxLAogICAgICBjdXJyZW50dGltZTogMAogICAgfTsKICB9LAogIHdhdGNoOiB7Ly/nm5HmtYvmn5Dlj5jph4/mmK/lkKblj5jljJbvvIzlj5jljJblkI7miafooYzku4DkuYjlh73mlbAKICB9LAogIC8v6aG16Z2i5Yqg6L295a6M5oiQ5ZCO5omn6KGM55qE5Ye95pWw77yM5Y+v55So5LqO5Yid5aeL5YyWCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8v5rOo5oSP5o6l5pS25L+h5Y+36KaB5Y246L29bW91bnRlZOWGhQogICAgdGhpcy5jaGFydCgpOwogIH0sCiAgbWV0aG9kczogewogICAgY2hhcnQ6IGZ1bmN0aW9uIGNoYXJ0KCkgewogICAgICB2YXIgbWFyZ2luID0gewogICAgICAgIHRvcDogMzAsCiAgICAgICAgcmlnaHQ6IDkwLAogICAgICAgIGJvdHRvbTogMzAsCiAgICAgICAgbGVmdDogOTAKICAgICAgfTsgLy/nlLvluIPlpKflsI8KCiAgICAgIHZhciB3aWR0aCA9ICQoJyMnICsgdGhpcy5jb250YWluZXJJZCkud2lkdGgoKTsKICAgICAgdmFyIGhlaWdodCA9ICQoJyMnICsgdGhpcy5jb250YWluZXJJZCkuaGVpZ2h0KCk7CiAgICAgIHZhciBpbm5lcmhlaWdodCA9IGhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tOwogICAgICB2YXIgaW5uZXJ3aWR0aCA9IHdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7CgogICAgICB2YXIgY29sb3IgPSBmdW5jdGlvbiBjb2xvcihpKSB7CiAgICAgICAgcmV0dXJuIGQzW3NjaGVtZV1bTWF0aC5tYXgoMywgb3ZlcmxhcCldW2kgKyBNYXRoLm1heCgwLCAzIC0gb3ZlcmxhcCldOwogICAgICB9OwoKICAgICAgdmFyIHggPSBkMy5zY2FsZVRpbWUoKS5yYW5nZShbMCwgd2lkdGhdKTsKICAgICAgdmFyIHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlUm91bmQoWzAsIC1vdmVybGFwICogc3RlcF0pOwogICAgICB2YXIgc3RlcCA9IDI5OwoKICAgICAgdmFyIGNvbG9yID0gZnVuY3Rpb24gY29sb3IoaSkgewogICAgICAgIHJldHVybiBkM1tzY2hlbWVdW01hdGgubWF4KDMsIG92ZXJsYXApXVtpICsgTWF0aC5tYXgoMCwgMyAtIG92ZXJsYXApXTsKICAgICAgfTsKCiAgICAgIHZhciB4QXhpcyA9IGZ1bmN0aW9uIHhBeGlzKGcpIHsKICAgICAgICByZXR1cm4gZy5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsIi5jb25jYXQobWFyZ2luLnRvcCwgIikiKSkuY2FsbChkMy5heGlzVG9wKHgpLnRpY2tzKHdpZHRoIC8gODApLnRpY2tTaXplT3V0ZXIoMCkpLmNhbGwoZnVuY3Rpb24gKGcpIHsKICAgICAgICAgIHJldHVybiBnLnNlbGVjdEFsbCgiLnRpY2siKS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgcmV0dXJuIHgoZCkgPCBtYXJnaW4ubGVmdCB8fCB4KGQpID49IHdpZHRoIC0gbWFyZ2luLnJpZ2h0OwogICAgICAgICAgfSkucmVtb3ZlKCk7CiAgICAgICAgfSkuY2FsbChmdW5jdGlvbiAoZykgewogICAgICAgICAgcmV0dXJuIGcuc2VsZWN0KCIuZG9tYWluIikucmVtb3ZlKCk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICB2YXIgZGl2ID0gaHRtbChfdGVtcGxhdGVPYmplY3QoKSk7CiAgICAgIHZhciBjYW52YXMgPSBkMy5zZWxlY3QoZGl2KS5zZWxlY3RBbGwoImNhbnZhcyIpLmRhdGEoZGF0YSkuZW50ZXIoKS5hcHBlbmQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBET00uY29udGV4dDJkKHdpZHRoLCBzdGVwLCAxKS5jYW52YXM7CiAgICAgIH0pLnN0eWxlKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpLnN0eWxlKCJpbWFnZS1yZW5kZXJpbmciLCAicGl4ZWxhdGVkIikuc3R5bGUoInRvcCIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdChpICogKHN0ZXAgKyAxKSArIG1hcmdpbi50b3AsICJweCIpOwogICAgICB9KS5wcm9wZXJ0eSgiY29udGV4dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICB9KS5lYWNoKGhvcml6b24pOwogICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCIjZXZhbHVhdGVHcmFwaCIpLmFwcGVuZCgic3ZnIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsKICAgICAgdmFyIGdYID0gc3ZnLmFwcGVuZCgiZyIpOwogICAgICBzdmcuYXBwZW5kKCJnIikuc2VsZWN0QWxsKCJ0ZXh0IikuZGF0YShkYXRhKS5qb2luKCJ0ZXh0IikuYXR0cigieCIsIDQpLmF0dHIoInkiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgIHJldHVybiAoaSArIDAuNSkgKiAoc3RlcCArIDEpICsgbWFyZ2luLnRvcDsKICAgICAgfSkuYXR0cigiZHkiLCAiMC4zNWVtIikudGV4dChmdW5jdGlvbiAoZCwgaSkgewogICAgICAgIHJldHVybiBpOwogICAgICB9KTsKICAgICAgdmFyIHJ1bGUgPSBzdmcuYXBwZW5kKCJsaW5lIikuYXR0cigic3Ryb2tlIiwgIiMwMDAiKS5hdHRyKCJ5MSIsIG1hcmdpbi50b3AgLSA2KS5hdHRyKCJ5MiIsIGhlaWdodCAtIG1hcmdpbi5ib3R0b20gLSAxKS5hdHRyKCJ4MSIsIDAuNSkuYXR0cigieDIiLCAwLjUpOwogICAgICBzdmcub24oIm1vdXNlbW92ZSB0b3VjaG1vdmUiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgeCA9IGQzLnBvaW50ZXIoZXZlbnQsIHN2Zy5ub2RlKCkpWzBdICsgMC41OwogICAgICAgIHJ1bGUuYXR0cigieDEiLCB4KS5hdHRyKCJ4MiIsIHgpOwogICAgICB9KTsKCiAgICAgIGZ1bmN0aW9uIGhvcml6b24oZCkgewogICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5jb250ZXh0OwogICAgICAgIHZhciBrID0gZC5sZW5ndGg7CiAgICAgICAgaWYgKGsgPCB3aWR0aCkgY29udGV4dC5kcmF3SW1hZ2UodGhpcywgaywgMCwgd2lkdGggLSBrLCBzdGVwLCAwLCAwLCB3aWR0aCAtIGssIHN0ZXApOwogICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gIiNmZmYiOwogICAgICAgIGNvbnRleHQuZmlsbFJlY3Qod2lkdGggLSBrLCAwLCBrLCBzdGVwKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdmVybGFwOyArK2kpIHsKICAgICAgICAgIGNvbnRleHQuc2F2ZSgpOwogICAgICAgICAgY29udGV4dC50cmFuc2xhdGUod2lkdGggLSBrLCAoaSArIDEpICogc3RlcCk7CiAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yKGkpOwoKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgazsgKytqKSB7CiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoaiwgeShkW2pdKSwgMSwgLXkoZFtqXSkpOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZGl2LnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY2FudmFzLmRhdGEoZGF0YSkuZWFjaChob3Jpem9uKTsKICAgICAgICBnWC5jYWxsKHhBeGlzKTsKICAgICAgfTsKCiAgICAgIHJldHVybiBkaXY7CiAgICB9LAogICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgdmFyIG4gPSAyMCwKICAgICAgICAgIG0gPSA5NjQ7CiAgICAgIHZhciBkYXRhID0gbmV3IEFycmF5KG4pOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpIHsKICAgICAgICB2YXIgZCA9IGRhdGFbaV0gPSBuZXcgRmxvYXQ2NEFycmF5KG0pOwoKICAgICAgICBmb3IgKHZhciBqID0gMCwgdiA9IDA7IGogPCBtOyArK2opIHsKICAgICAgICAgIGRbal0gPSB2ID0gd2Fsayh2KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICB2YXIgcGVyaW9kID0gMjUwLAogICAgICAgICAgbSA9IGRhdGFbMF0ubGVuZ3RoOwogICAgICB2YXIgdGFpbCA9IGRhdGEubWFwKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQuc3ViYXJyYXkobSAtIDEsIG0pOwogICAgICB9KTsKCiAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgdmFyIHRoZW4gPSBuZXcgRGF0ZShNYXRoLmNlaWwoKERhdGUubm93KCkgKyAxKSAvIHBlcmlvZCkgKiBwZXJpb2QpOwogICAgICAgIFByb21pc2VzLndoZW4odGhlbiwgdGhlbik7CiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGRhdGFbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBkID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIGQuY29weVdpdGhpbigwLCAxLCBtKSwgZFttIC0gMV0gPSB3YWxrKGRbbSAtIDFdKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgeC5kb21haW4oW3RoZW4gLSBwZXJpb2QgKiB3aWR0aCwgdGhlbl0pOwogICAgICAgIGNoYXJ0LnVwZGF0ZSh0YWlsKTsKICAgICAgfQogICAgfSwKICAgIHdhbGs6IGZ1bmN0aW9uIHdhbGsodikgewogICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdiArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDAuMDUpKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:/the junior year/traffic science match/newCodingTemplate-main/visual interface/frontend/src/components/InteractionView/InteractionView.js"],"names":["dataService","pipeService","DrawD3","axios","d3","require","name","components","props","videoId","String","videoData","Object","data","containerId","audioData","interval","sliding","currenttime","watch","mounted","chart","methods","margin","top","right","bottom","left","width","$","height","innerheight","innerwidth","color","i","scheme","Math","max","overlap","x","scaleTime","range","y","scaleLinear","rangeRound","step","xAxis","g","attr","call","axisTop","ticks","tickSizeOuter","selectAll","filter","d","remove","select","div","html","canvas","enter","append","DOM","context2d","style","property","getContext","each","horizon","svg","gX","join","text","rule","on","event","pointer","node","context","k","length","drawImage","fillStyle","fillRect","save","translate","j","restore","update","n","m","Array","Float64Array","v","walk","period","tail","map","subarray","then","Date","ceil","now","Promises","when","copyWithin","domain","min","random"],"mappings":"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","sourcesContent":["// /* global d3 $ */\nimport dataService from '../../service/dataService.js'\nimport pipeService from '../../service/pipeService'\nimport DrawD3 from './drawD3.js'\nimport axios from \"axios\";\n\nd3 = require(\"d3@6\")\n\nexport default {\n    name: 'InteractionView',\n    components: {\n    },\n    props: { //主组件传递的值\n        videoId: String,\n        videoData: Object\n    },\n    data() {//当前component内置变量\n        return {\n        containerId: 'InteractionGraph',   //此处记得改\n        audioData: {},\n        interval: 5,\n        sliding: 1,\n        currenttime:0\n        }\n    },\n\n    watch: {//监测某变量是否变化，变化后执行什么函数\n    },\n\n    //页面加载完成后执行的函数，可用于初始化\n    mounted: function () {   //注意接收信号要卸载mounted内\n          this.chart()\n    },\n\n    methods: {\n       chart(){\n             var margin = {top: 30, right: 90, bottom: 30, left: 90};\n          //画布大小\n              var width = $('#' + this.containerId).width()\n              var height = $('#' + this.containerId).height()\n              const innerheight = height-margin.top-margin.bottom;\n              const innerwidth = width - margin.left-margin.right;\n            var color = i => d3[scheme][Math.max(3, overlap)][i + Math.max(0, 3 - overlap)]\n            const x = d3.scaleTime()\n                .range([0, width])\n            const y = d3.scaleLinear()\n                .rangeRound([0, -overlap * step])\n            const step = 29\n            var color = i => d3[scheme][Math.max(3, overlap)][i + Math.max(0, 3 - overlap)]\n\n\n            const xAxis = g => g\n                .attr(\"transform\", `translate(0,${margin.top})`)\n                .call(d3.axisTop(x).ticks(width / 80).tickSizeOuter(0))\n                .call(g => g.selectAll(\".tick\").filter(d => x(d) < margin.left || x(d) >= width - margin.right).remove())\n                .call(g => g.select(\".domain\").remove())\n\n                  const div = html`<div style=\"position:relative;\">`;\n\n                  const canvas = d3.select(div)\n                    .selectAll(\"canvas\")\n                    .data(data)\n                    .enter().append(() => DOM.context2d(width, step, 1).canvas)\n                      .style(\"position\", \"absolute\")\n                      .style(\"image-rendering\", \"pixelated\")\n                      .style(\"top\", (d, i) => `${i * (step + 1) + margin.top}px`)\n                      .property(\"context\", function() { return this.getContext(\"2d\"); })\n                      .each(horizon);\n\n                    var svg = d3.select(\"#evaluateGraph\")\n                                      .append(\"svg\")\n                                      .attr(\"width\", width)\n                                      .attr(\"height\",height);\n\n              const gX = svg.append(\"g\");\n\n              svg.append(\"g\")\n                .selectAll(\"text\")\n                .data(data)\n                .join(\"text\")\n                  .attr(\"x\", 4)\n                  .attr(\"y\", (d, i) => (i + 0.5) * (step + 1) + margin.top)\n                  .attr(\"dy\", \"0.35em\")\n                  .text((d, i) => i);\n\n              const rule = svg.append(\"line\")\n                  .attr(\"stroke\", \"#000\")\n                  .attr(\"y1\", margin.top - 6)\n                  .attr(\"y2\", height - margin.bottom - 1)\n                  .attr(\"x1\", 0.5)\n                  .attr(\"x2\", 0.5);\n\n              svg.on(\"mousemove touchmove\", (event) => {\n                const x = d3.pointer(event, svg.node())[0] + 0.5;\n                rule.attr(\"x1\", x).attr(\"x2\", x);\n              });\n\n              function horizon(d) {\n                const {context} = this;\n                const {length: k} = d;\n                if (k < width) context.drawImage(this, k, 0, width - k, step, 0, 0, width - k, step);\n                context.fillStyle = \"#fff\";\n                context.fillRect(width - k, 0, k, step);\n                for (let i = 0; i < overlap; ++i) {\n                  context.save();\n                  context.translate(width - k, (i + 1) * step);\n                  context.fillStyle = color(i);\n                  for (let j = 0; j < k; ++j) {\n                    context.fillRect(j, y(d[j]), 1, -y(d[j]));\n                  }\n                  context.restore();\n                }\n              }\n\n              div.update = data => {\n                canvas.data(data).each(horizon);\n                gX.call(xAxis);\n              };\n\n              return div;\n            },\n\n     data () {\n          const n = 20, m = 964;\n          const data = new Array(n);\n          for (let i = 0; i < n; ++i) {\n            const d = data[i] = new Float64Array(m);\n            for (let j = 0, v = 0; j < m; ++j) {\n              d[j] = v = walk(v);\n            }\n          }\n          return data;\n        },\n\n    update () {\n      const period = 250, m = data[0].length;\n      const tail = data.map(d => d.subarray(m - 1, m));\n      while (true) {\n        const then = new Date(Math.ceil((Date.now() + 1) / period) * period);\n        Promises.when(then, then);\n        for (const d of data) d.copyWithin(0, 1, m), d[m - 1] = walk(d[m - 1]);\n        x.domain([then - period * width, then]);\n        chart.update(tail);\n      }\n    },\n\n    walk(v) {\n      return Math.max(0, Math.min(1, v + (Math.random() - 0.5) * 0.05));\n    },\n    }\n}"]}]}