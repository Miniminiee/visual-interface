{"remainingRequest":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\src\\components\\InteractionView\\drawD3.js","dependencies":[{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\src\\components\\InteractionView\\drawD3.js","mtime":1681015122438},{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680873973727},{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1680873974944},{"path":"D:\\the junior year\\traffic science match\\newCodingTemplate-main\\visual interface\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1680873973993}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZ2xvYmFsIGQzICQgKi8KLy8gaW1wb3J0IExpc3QgZnJvbSAnbGlzdC5qcycKLy8gaW1wb3J0IHBpcGVTZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2UvcGlwZVNlcnZpY2UnCi8vIGltcG9ydCBnbG9iYWxDb25maWcgZnJvbSAnLi4vLi4vc2VydmljZS9nbG9iYWxDb25maWcnCmltcG9ydCAnZDMnOwoKdmFyIERyYXdEMyA9IGZ1bmN0aW9uIERyYXdEMyhpZCkgewogIHRoaXMuaWQgPSBpZDsKICB0aGlzLnN2Z1dpZHRoID0gJCgnIycgKyBpZCkud2lkdGgoKTsKICB0aGlzLnN2Z0hlaWdodCA9ICQoJyMnICsgaWQpLmhlaWdodCgpOwogIHRoaXMuc3ZnID0gZDMuc2VsZWN0KCcjJyArIGlkKS5hcHBlbmQoJ3N2ZycpLmF0dHIoJ2NsYXNzJywgJ3N0YXRpc3RpY1N2ZycpLmF0dHIoJ3dpZHRoJywgdGhpcy5zdmdXaWR0aCkuYXR0cignaGVpZ2h0JywgdGhpcy5zdmdIZWlnaHQpOwogIHZhciBtYXJnaW4gPSB7CiAgICB0b3A6IDMwLAogICAgcmlnaHQ6IDkwLAogICAgYm90dG9tOiAzMCwKICAgIGxlZnQ6IDkwCiAgfTsKICB0aGlzLm1hcmdpbiA9IG1hcmdpbjsKICB0aGlzLmdyYXBoQ29udGFpbmVyID0gdGhpcy5zdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnZ19tYWluJykuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgbWFyZ2luLmxlZnQgKyAnLCAnICsgbWFyZ2luLnRvcCArICcpJyk7Cn07IC8v5ZCRRHJhd0NhcuWvueixoeS4rea3u+WKoGRyYXflh73mlbAKCgpEcmF3RDMucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoZGF0YSwgY3VycmVudHRpbWUpIHsKICB2YXIgeFZhbHVlID0gZnVuY3Rpb24geFZhbHVlKGQpIHsKICAgIHJldHVybiBkLnRpbWU7CiAgfTsKCiAgdmFyIHlWYWx1ZSA9IGZ1bmN0aW9uIHlWYWx1ZShkKSB7CiAgICByZXR1cm4gZC5oaWdoOwogIH07CgogIHZhciBpbm5lckhlaWdodCA9IHRoaXMuc3ZnSGVpZ2h0IC0gdGhpcy5tYXJnaW4udG9wIC0gdGhpcy5tYXJnaW4uYm90dG9tOwogIHZhciBpbm5lcldpZHRoID0gdGhpcy5zdmdXaWR0aCAtIHRoaXMubWFyZ2luLmxlZnQgLSB0aGlzLm1hcmdpbi5yaWdodDsKICB2YXIgeUF4aXNMYWJlbCA9ICLmjIfmoIflgLwiOwogIHZhciB4QXhpc0xhYmVsID0gIiI7CiAgdmFyIHRpdGxlID0gIuWcuuaZr+aMh+aghyI7CiAgdmFyIG1vbnRoTGlzdCA9IFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTFdOwogIHZhciB4U2NhbGUgPSBkMy5zY2FsZVRpbWUoKSAvL+WkhOeQhuaXtumXtOaIs+aVsOaNrgogIC5kb21haW4oZDMuZXh0ZW50KGRhdGEsIHhWYWx1ZSkpLnJhbmdlKFswLCBpbm5lcldpZHRoXSkubmljZSgpOwogIHZhciB5U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihkMy5leHRlbnQoZGF0YSwgeVZhbHVlKSkucmFuZ2UoW2lubmVySGVpZ2h0LCAwXSkgLy/liY3pnaLkuKTkuKrlm7556L205Z2Q5qCH5LiN5raJ5Y+K5pWw5a2X77yM55Sx5LqOeei9tOWQkeS4i+S4uuato+aWueWQke+8jOaJgOS7peimgeWPjei/h+adpe+8gQogIC5uaWNlKCk7CiAgdmFyIGcgPSB0aGlzLnN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCd0cmFuc2Zvcm0nLCAidHJhbnNsYXRlKCIuY29uY2F0KHRoaXMubWFyZ2luLmxlZnQsICIsIikuY29uY2F0KHRoaXMubWFyZ2luLnRvcCwgIikiKSk7CgogIHZhciB4QXhpc1RpY2tGb3JtYXQgPSBmdW5jdGlvbiB4QXhpc1RpY2tGb3JtYXQodGltZSkgewogICAgcmV0dXJuIG1vbnRoTGlzdFt0aW1lLmdldE1vbnRoKCldOwogIH07CgogIHZhciB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeFNjYWxlKS50aWNrRm9ybWF0KHhBeGlzVGlja0Zvcm1hdCkudGlja1BhZGRpbmcoMTApOwoKICB2YXIgeUF4aXNUaWNrRm9ybWF0ID0gZnVuY3Rpb24geUF4aXNUaWNrRm9ybWF0KG51bWJlcikgewogICAgcmV0dXJuIGQzLmZvcm1hdCgnLjFzJykobnVtYmVyKTsKICB9OwoKICB2YXIgeUF4aXMgPSBkMy5heGlzTGVmdCh5U2NhbGUpLnRpY2tTaXplKC1pbm5lcldpZHRoKS50aWNrUGFkZGluZygxMCk7CiAgdmFyIHlBeGlzRyA9IGcuYXBwZW5kKCdnJykuY2FsbCh5QXhpcyk7CiAgeUF4aXNHLnNlbGVjdEFsbCgnLmRvbWFpbicpLnJlbW92ZSgpOwogIHlBeGlzRy5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICdheGlzLWxhYmVsJykuYXR0cigneScsIC02MCkuYXR0cigneCcsIC1pbm5lckhlaWdodCAvIDIpLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKS5hdHRyKCd0cmFuc2Zvcm0nLCAicm90YXRlKC05MCkiKS5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKS50ZXh0KHlBeGlzTGFiZWwpOwogIHZhciB4QXhpc0cgPSBnLmFwcGVuZCgnZycpLmNhbGwoeEF4aXMpLmF0dHIoJ3RyYW5zZm9ybScsICJ0cmFuc2xhdGUoMCwiLmNvbmNhdChpbm5lckhlaWdodCwgIikiKSk7CiAgeEF4aXNHLnNlbGVjdCgnLmRvbWFpbicpLnJlbW92ZSgpOwogIHZhciBsaW5lR2VuZXJhdG9yID0gZDMubGluZSgpIC8v57uY5Yi257q/5p2hCiAgLngoZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiB4U2NhbGUoeFZhbHVlKGQpKTsKICB9KS55KGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4geVNjYWxlKHlWYWx1ZShkKSk7CiAgfSkuY3VydmUoZDMuY3VydmVCYXNpcyk7IC8v5bmz5ruR5puy57q/CgogIGcuYXBwZW5kKCdwYXRoJykuYXR0cignY2xhc3MnLCAnbGluZS1wYXRoJykgLy9saW5lLXBhdGjov5vkuIDmraXlnKhjc3PkuK3orr7nva4KICAuYXR0cignZCcsIGxpbmVHZW5lcmF0b3IoZGF0YSkpLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDEuNSk7CiAgZy5hcHBlbmQoJ3RleHQnKS5hdHRyKCdjbGFzcycsICd0aXRsZScpLmF0dHIoJ3knLCAtMTApLmF0dHIoJ3gnLCBpbm5lcldpZHRoIC8gMikuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJykudGV4dCh0aXRsZSk7Cn07CgpleHBvcnQgZGVmYXVsdCBEcmF3RDM7"},{"version":3,"sources":["D:/the junior year/traffic science match/newCodingTemplate-main/visual interface/frontend/src/components/InteractionView/drawD3.js"],"names":["DrawD3","id","svgWidth","$","width","svgHeight","height","svg","d3","select","append","attr","margin","top","right","bottom","left","graphContainer","prototype","draw","data","currenttime","xValue","d","time","yValue","high","innerHeight","innerWidth","yAxisLabel","xAxisLabel","title","monthList","xScale","scaleTime","domain","extent","range","nice","yScale","scaleLinear","g","xAxisTickFormat","getMonth","xAxis","axisBottom","tickFormat","tickPadding","yAxisTickFormat","number","format","yAxis","axisLeft","tickSize","yAxisG","call","selectAll","remove","text","xAxisG","lineGenerator","line","x","y","curve","curveBasis"],"mappings":"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","sourcesContent":["/* global d3 $ */\n// import List from 'list.js'\n// import pipeService from '../../service/pipeService'\n// import globalConfig from '../../service/globalConfig'\nimport 'd3'\n\nlet DrawD3= function (id) {\n\tthis.id = id\n    this.svgWidth = $('#' + id).width()\n    this.svgHeight = $('#' + id).height()\n\n    this.svg = d3.select('#' + id).append('svg')\n        .attr('class', 'statisticSvg')\n        .attr('width', this.svgWidth)\n\t\t.attr('height', this.svgHeight)\n\n    var margin = {top: 30, right: 90, bottom: 30, left: 90};\n    this.margin = margin;\n\n\tthis.graphContainer = this.svg.append('g')\n\t\t.attr('class', 'g_main')\n        .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')')\n\n}\n//向DrawCar对象中添加draw函数\nDrawD3.prototype.draw = function (data,currenttime) {\n    const xValue = d => d.time;\n    const yValue = d => d.high;\n    const innerHeight = this.svgHeight - this.margin.top - this.margin.bottom;\n    const innerWidth = this.svgWidth - this.margin.left - this.margin.right;\n\n    const yAxisLabel = \"指标值\";\n    const xAxisLabel = \"\";\n    const title = \"场景指标\"\n    const monthList = [0,1,2,3,4,5,6,7,8,9,10,11];\n\n    const xScale = d3.scaleTime()   //处理时间戳数据\n        .domain(d3.extent(data, xValue))\n        .range([0, innerWidth])\n        .nice();\n\n    const yScale = d3.scaleLinear()\n        .domain(d3.extent(data, yValue))\n        .range([innerHeight, 0])   //前面两个图y轴坐标不涉及数字，由于y轴向下为正方向，所以要反过来！\n        .nice();\n\n    const g = this.svg.append('g')\n        .attr('transform', `translate(${this.margin.left},${this.margin.top})`);\n\n    const xAxisTickFormat = time =>\n        monthList[time.getMonth()];\n\n    const xAxis = d3.axisBottom(xScale)\n        .tickFormat(xAxisTickFormat)\n        .tickPadding(10);\n\n    const yAxisTickFormat = number =>\n        d3.format('.1s')(number);\n\n    const yAxis = d3.axisLeft(yScale)\n        .tickSize(-innerWidth)\n        .tickPadding(10)\n\n    const yAxisG = g.append('g').call(yAxis);\n    yAxisG.selectAll('.domain').remove();\n\n    yAxisG.append('text')\n        .attr('class', 'axis-label')\n        .attr('y', -60)\n        .attr('x', -innerHeight / 2)\n        .attr('fill', 'black')\n        .attr('transform', `rotate(-90)`)\n        .attr('text-anchor', 'middle')\n        .text(yAxisLabel);\n\n    const xAxisG = g.append('g').call(xAxis)\n        .attr('transform', `translate(0,${innerHeight})`);\n\n    xAxisG.select('.domain').remove();\n\n    const lineGenerator = d3.line()   //绘制线条\n        .x(d => xScale(xValue(d)))\n        .y(d => yScale(yValue(d)))\n        .curve(d3.curveBasis);   //平滑曲线\n\n    g.append('path')\n        .attr('class', 'line-path')   //line-path进一步在css中设置\n        .attr('d', lineGenerator(data))\n        .attr('stroke-width',1.5);\n\n    g.append('text')\n        .attr('class', 'title')\n        .attr('y', -10)\n        .attr('x', innerWidth/2)\n        .attr('text-anchor', 'middle')\n        .text(title);\n}\n\nexport default DrawD3"]}]}